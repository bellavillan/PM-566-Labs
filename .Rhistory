library(tidyverse)
library(data.table)
met_avg[!is.na(elev_cat)] |>
ggplot()+
geom_boxplot(mapping=aes(x=elev_cat, y=temp, fill=elev_cat))
if (!file.exists("met_all.gz"))
download.file(
url = "https://raw.githubusercontent.com/USCbiostats/data-science-data/master/02_met/met_all.gz",
destfile = "met_all.gz",
method   = "libcurl",
timeout  = 60
)
met <- data.table::fread("met_all.gz")
met <- met[met$temp > -17][elev == 9999.0, elev := NA][vis.var == 9, vis.var := NA]
met
met[, date := as.Date(paste(year, month, day, sep = "-"))]
met <- met[met$day < 8]
met_first_week <- met[,.(
temp     = mean(temp,na.rm=TRUE),
rh       = mean(rh,na.rm=TRUE),
wind.sp  = mean(wind.sp,na.rm=TRUE),
vis.dist = mean(vis.dist,na.rm=TRUE),
lat      = mean(lat),
lon      = mean(lon),
elev     = mean(elev,na.rm=TRUE)
), by=c("USAFID", "day")]
library(data.table)
met[, region := fifelse(lon < -98.00 & lat > 39.71, "NW",
fifelse(lon < -98.00 & lat <= 39.71, "SW",
fifelse(lon >= -98.00 & lat > 39.71, "NE",
fifelse(lon >= -98.00 & lat <= 39.71, "SE",
NA_character_))))]
met_avg <- met[,.(
elev     = mean(elev,na.rm=TRUE)
), by=c("USAFID", "day")]
met_avg[, elev_cat := fifelse(elev > 252, "high", "low")]
library(tidyverse)
library(data.table)
met_avg[!is.na(elev_cat)] |>
ggplot()+
geom_boxplot(mapping=aes(x=elev_cat, y=temp, fill=elev_cat))
library(tidyverse)
library(data.table)
met_avg[!is.na(elev_cat)] |>
ggplot()+
geom_boxplot(mapping=aes(x=elev_cat, y=temp, fill=elev_cat))
library(tidyverse)
library(data.table)
met
met_avg[!is.na(elev_cat)] |>
ggplot()+
geom_boxplot(mapping=aes(x=elev_cat, y=temp, fill=elev_cat))
library(tidyverse)
library(data.table)
met
met_avg[!is.na(elev_cat)] |>
ggplot()+
geom_violin(mapping=aes(x=elev_cat, y=temp, fill=elev_cat))
library(tidyverse)
library(data.table)
met
met_avg[!is.na(elev_cat)] |>
ggplot()+
geom_violin(mapping=aes(x=elev_cat, y=met$temp, fill=elev_cat))
met_avg <- met[,.(
elev     = mean(elev,na.rm=TRUE)
), by=c("USAFID", "day")]
met_avg[, elev_cat := fifelse(elev > 252, "high", "low")]
library(tidyverse)
library(data.table)
met
met_avg[!is.na(elev_cat)] |>
ggplot()+
geom_violin(mapping=aes(x=elev_cat, y=met$temp, fill=elev_cat))
library(tidyverse)
library(data.table)
met
met_avg[!is.na(elev_cat)] |>
ggplot()+
geom_violin(mapping=aes(x=elev_cat, y=temp, fill=elev_cat))
met_avg[!is.na(region)] |>
ggplot(mapping = aes(x = wind.sp, y = dew.point)) +
geom_point(mapping = aes(color = region)) +
geom_smooth()
met
met_avg[!is.na(region)] |>
ggplot(mapping = aes(x = wind.sp, y = dew.point)) +
geom_point(mapping = aes(color = region)) +
geom_smooth()
met_avg <- met[,.(
elev     = mean(elev,na.rm=TRUE)
), by=c("USAFID", "day")]
met_avg[, elev_cat := fifelse(elev > 252, "high", "low")]
met
met_avg[!is.na(region)] |>
ggplot(mapping = aes(x = wind.sp, y = dew.point)) +
geom_point(mapping = aes(color = region)) +
geom_smooth()
